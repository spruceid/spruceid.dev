<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.ff31de0ff">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Spruce Developer Portal Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Spruce Developer Portal Blog Atom Feed"><title data-react-helmet="true">Installation | Spruce Developer Portal</title><meta data-react-helmet="true" property="og:url" content="https://spruceid.dev/docs/credible/install"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Installation | Spruce Developer Portal"><meta data-react-helmet="true" name="description" content="[installandroiddependencies.sh]//github.com/spruceid/credible/blob/main/installandroiddependencies.sh"><meta data-react-helmet="true" property="og:description" content="[installandroiddependencies.sh]//github.com/spruceid/credible/blob/main/installandroiddependencies.sh"><link data-react-helmet="true" rel="shortcut icon" href="/assets/logo.png"><link data-react-helmet="true" rel="canonical" href="https://spruceid.dev/docs/credible/install"><link data-react-helmet="true" rel="alternate" href="https://spruceid.dev/docs/credible/install" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://spruceid.dev/docs/credible/install" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.d4c82412.css">
<link rel="preload" href="/assets/js/runtime~main.cad108a0.js" as="script">
<link rel="preload" href="/assets/js/main.798d0b49.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://spruceid.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/assets/logo.png" alt="Spruce Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/assets/logo.png" alt="Spruce Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Spruce</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" usebaseurl="/" href="/">Quickstart</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" usebaseurl="/docs/" href="/docs/">Docs</a><a class="navbar__item navbar__link" usebaseurl="/didkit/" href="/docs/didkit/">DIDKit</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" usebaseurl="/credible/" href="/docs/credible">Credible</a><a href="https://blog.spruceid.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" usebaseurl="/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/spruceid/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--checked react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" checked="" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a href="https://spruceid.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/assets/logo.png" alt="Spruce Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/assets/logo.png" alt="Spruce Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Spruce</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" usebaseurl="/" href="/">Quickstart</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" usebaseurl="/docs/" href="/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" usebaseurl="/didkit/" href="/docs/didkit/">DIDKit</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" usebaseurl="/credible/" href="/docs/credible">Credible</a></li><li class="menu__list-item"><a href="https://blog.spruceid.com/" target="_blank" rel="noopener noreferrer" class="menu__link" usebaseurl="/blog/">Blog</a></li><li class="menu__list-item"><a href="https://github.com/spruceid/" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">.dev Portal</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Home</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/primer">What is Decentralized Identity?</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">DIDKit</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit/install">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit/did-methods">DID Methods</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit/concepts">Core Concepts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit/document-loading">Document Loading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit/changelog">Changelog</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit/specs_and_deps">Specifications &amp; Dependencies</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit/glossary">Glossary</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">DIDKit Packages</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit-packages/">Overview of DIDKit Packages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit-packages/cli">Command Line Interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit-packages/http">HTTP Server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit-packages/rust">Rust Crate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit-packages/C">C Interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit-packages/java">Java &amp; Android</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit-packages/python">Python</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit-packages/node">Javascript</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">DIDKit Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit-examples/">Overview of Examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit-examples/core-functions-in-bash">Core Functions (CLI)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit-examples/core-functions-in-curl">Core Functions (HTTP)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit-examples/batch-generation">Batch Generation &amp; Verification</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit-examples/java-springboot">Spring Boot Java AuthN Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit-examples/svelte-chapi">Svelte CHAPI</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Credible</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/credible/">Introduction</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/credible/install">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/credible/concepts">Core Concepts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/credible/authn">Authenticating to other services</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/credible/glossary">Glossary</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Credible Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/credible-examples/overview">Overview of Examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/credible-examples/qr-issuance">QR Code Issuance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/credible-examples/vc-display">VC Display</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/credible-examples/did-tz-deploy">Deploying a DID:tz to Tezos Mainnet</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">References</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/contributing">Contributing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/code-of-conduct">Code of Conduct</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/privacy-policy">Privacy Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/glossary">Glossary</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/further-reading">Further Reading</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Installation</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="app-stores"></a>App stores<a class="hash-link" href="#app-stores" title="Direct link to heading">#</a></h2><p>We are also in the process of listing Credible on the iOS TestFlight and Android
Play Beta programs, and eventually their respective app marketplaces plus
F-Droid.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="common-dependencies"></a>Common Dependencies<a class="hash-link" href="#common-dependencies" title="Direct link to heading">#</a></h2><p>To manually build Credible for either Android or iOS, you will need to install
the following dependencies (instructions follow):</p><ul><li>Rust</li><li>Java 7 or higher</li><li>Flutter (<code>dev</code> channel)</li><li><a href="https://github.com/spruceid/didkit" target="_blank" rel="noopener noreferrer">DIDKit</a>/<a href="https://github.com/spruceid/ssi" target="_blank" rel="noopener noreferrer">SSI</a></li><li><code>wasm-pack</code> (WEB)</li><li><code>binaryen</code> (WEB and targeting ASM.js)</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="rust"></a>Rust<a class="hash-link" href="#rust" title="Direct link to heading">#</a></h3><p>It is recommended to use <a href="https://www.rust-lang.org/tools/install" target="_blank" rel="noopener noreferrer">rustup</a> to
manage your Rust installation.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="java"></a>Java<a class="hash-link" href="#java" title="Direct link to heading">#</a></h3><p>On Ubuntu you could run:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> update</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> openjdk-8-jdk</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>For more information, please refer to the documentation of your favorite flavour
of Java and your operating system/package manager.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="flutter"></a>Flutter<a class="hash-link" href="#flutter" title="Direct link to heading">#</a></h3><p>Please follow the official instalation instructions available
<a href="https://flutter.dev/docs/get-started/install" target="_blank" rel="noopener noreferrer">here</a> to install Flutter,
don&#x27;t forget to also install the build dependencies for the platform you
will be building (Android SDK/NDK, Xcode, etc).</p><p>We currently only support build this project using the <code>dev</code> channel of Flutter.</p><p>To change your installation to the <code>dev</code> channel, please execute the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ flutter channel dev</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ flutter upgrade</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>To confirm that everything is setup correctly, please run the following command
and resolve any issues that arise before proceeding to the next steps.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ flutter doctor</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="wasm-pack-required-for-both-web-targets"></a><code>wasm-pack</code> (Required for both WEB targets)<a class="hash-link" href="#wasm-pack-required-for-both-web-targets" title="Direct link to heading">#</a></h3><p>The wasm-pack cannot yet be compiled from crates.io. For now, to build the WASM
target you will need <code>wasm-pack</code>, the fastest way is to fetch the script from
github and run it in the credible root directory:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> https://rustwasm.github.io/wasm-pack/installer/init.sh -sSf </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sh</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="binaryen"></a><code>binaryen</code><a class="hash-link" href="#binaryen" title="Direct link to heading">#</a></h3><p>To build Credible for WEB using ASM.js you will need
<a href="https://github.com/WebAssembly/binaryen" target="_blank" rel="noopener noreferrer">binaryen</a>, which allows the conversion
of DIDKit WASM to ASM.js. This is necessary in context where WASM support is not
available and DIDKit needs to run in pure Javascript. More detailed instructions
on how to build <code>binaryen</code> can be found
<a href="https://github.com/WebAssembly/binaryen" target="_blank" rel="noopener noreferrer">here</a>.</p><p>If you are in a UNIX-like distribution you just have to clone the repo and build,
we recommend cloning into your <code>${HOME}</code>, to avoid having to specify the
<code>${BINARYEN_ROOT}</code> variable:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone https://github.com/WebAssembly/binaryen ~/binaryen</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> ~/binaryen</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ cmake </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">.</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">make</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Not that binaryen support for OS X and Windows is still limited, so it is highly
recommended to build it in a linux shell on OS X and on WSL2 in Windows. For
instructions on building it natively in Windows, see <a href="https://github.com/WebAssembly/binaryen#faq" target="_blank" rel="noopener noreferrer">the binaryen
FAQ</a> on github.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="didkit-and-ssi"></a>DIDKit and SSI<a class="hash-link" href="#didkit-and-ssi" title="Direct link to heading">#</a></h3><p>This project also depends on two other Spruce projects,
<a href="https://github.com/spruceid/didkit" target="_blank" rel="noopener noreferrer"><code>DIDKit</code></a> and
<a href="https://github.com/spruceid/ssi" target="_blank" rel="noopener noreferrer"><code>SSI</code></a>. </p><p>These projects are all configured to work with relative paths by default, so it
is recommended to clone them all as subdirectories of the same root directory,
for example
<code>$HOME/spruceid/didkit
$HOME/spruceid/ssi
$HOME/spruceid/credible
$HOME/spruceid/treehouse
etc</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="target-specific-dependencies"></a>Target-Specific Dependencies<a class="hash-link" href="#target-specific-dependencies" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="android-dependencies"></a>Android Dependencies<a class="hash-link" href="#android-dependencies" title="Direct link to heading">#</a></h3><p>To build Credible for Android, you will require both the Android SDK and NDK.</p><p>These two dependencies can be easily obtained with <a href="https://developer.android.com/studio/install" target="_blank" rel="noopener noreferrer">Android
Studio</a>, which install further
dependencies upon first being opened after installation. Installing the
appropriate Android NDK (often not the newest) in Android Studio can be
accomplished by going to Settings &gt; Appearance &amp; Behavior &gt; System Settings &gt;
Android SDK and selecting to install the &quot;NDK (Side by Side)&quot;. An alternative
method of installing SDK and NDK without Android Studio can be found in the
optional
<a href="https://github.com/spruceid/credible/blob/main/install_android_dependencies.sh" target="_blank" rel="noopener noreferrer">install_android_dependencies.sh</a>
script included here.</p><p>If your Android SDK doesn&#x27;t live at <code>$HOME/Android/Sdk</code> you will need to set
<code>ANDROID_SDK_ROOT</code> like so:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ANDROID_SDK_ROOT</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/path/to/Android/Sdk</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><em>Note: Some users have experienced difficulties with expected cross-compilation
artefacts missing from the newest NDK, which is downloaded by default in the
installation process.  If you experience errors of this kind, you may have to
manually downgrade or install multiple NDK versions as [shown
here])(img/ndk_downgrade.png) in the Android Studio installer (screengrabbed
from an Ubuntu installation). Alternately, running all or parts of the
<a href="https://github.com/spruceid/credible/blob/main/install_android_dependencies.sh" target="_blank" rel="noopener noreferrer">install_android_dependencies.sh</a> script may be
helpful.</em></p><p>If your <code>build-tools</code> and/or <code>NDK</code>  live in different locations than the default ones inside /SDK/, or if you want to specify a specific NDK or build-tools version, you can manually configure the following two environment variables:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ANDROID_TOOLS</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/path/to/SDK/build-tools/XX.X.X/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ANDROID_NDK_HOME</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/path/to/SDK/ndk/XX.X.XXXXX/</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>::: </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ios-dependencies"></a>iOS Dependencies<a class="hash-link" href="#ios-dependencies" title="Direct link to heading">#</a></h3><p>To build Credible for iOS you will need to install CocoaPods, which can be done
with Homebrew on MacOS, WSL2, or Linux-based systems. You will also need
<a href="https://developer.apple.com/xcode/" target="_blank" rel="noopener noreferrer">XCode</a>, which is not available for WSL2 or
Linux systems; it is currently possible but not recommended to install XCode
in those build environments.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> linuxbrew-wrapper</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ brew </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> cocoapods</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="web-dependencies"></a>Web Dependencies<a class="hash-link" href="#web-dependencies" title="Direct link to heading">#</a></h3><p>To build Credible for WASM, you will need the Node.JS and its package manager,
<code>npm</code> to be installed:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> nodejs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">npm</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><em>Note: in some environments, such as Ubuntu 18.04, npm may not automatically
install a new enough version for our makefile to execute succesfully; overriding
it with <code>npm</code>&#x27;s <a href="https://github.com/npm/cli/issues/681#issuecomment-793916156" target="_blank" rel="noopener noreferrer">internal
commands</a> may be
necessary.</em></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="building-didkit-for-different-targets"></a>Building DIDKit for different targets<a class="hash-link" href="#building-didkit-for-different-targets" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="android"></a>Android<a class="hash-link" href="#android" title="Direct link to heading">#</a></h3><p>To build <code>DIDKit</code> for the Android targets, you will go to the root of <code>DIDKit</code>
and run:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> -C lib install-rustup-android</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> -C lib </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/target/test/java.stamp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> -C lib </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/target/test/aar.stamp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> -C lib </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/target/test/flutter.stamp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ cargo build</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><em>This may take some time as it compiles the entire project for multiple targets</em></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="android-apk"></a>Android APK<a class="hash-link" href="#android-apk" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ flutter build apk --no-sound-null-safety</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="android-app-bundle"></a>Android App Bundle<a class="hash-link" href="#android-app-bundle" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ flutter build appbundle --no-sound-null-safety</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ios"></a>iOS<a class="hash-link" href="#ios" title="Direct link to heading">#</a></h3><p>To build DIDKit for the iOS targets, you wGo to the root of <code>DIDKit</code> and run
: </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> -C lib install-rustup-ios </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> -C lib </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/target/test/ios.stamp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ cargo build</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="web-using-wasm"></a>Web <em>using WASM</em><a class="hash-link" href="#web-using-wasm" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> -C lib </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/target/test/wasm.stamp</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="web-using-asmjs"></a>Web <em>using ASM.js</em><a class="hash-link" href="#web-using-asmjs" title="Direct link to heading">#</a></h3><p>If you have installed <code>bynarien</code> somewhere other than $HOME, you will have to
set <code>BYNARIEN_ROOT</code> as shown below, otherwise, just run the <code>make</code> command.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">BINARYEN_ROOT</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">/path/to/binaryen</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> -C lib </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/target/test/asmjs.stamp</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="building-credible"></a>Building Credible<a class="hash-link" href="#building-credible" title="Direct link to heading">#</a></h2><p>You are now ready to build or run Credible.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="run-on-emulator"></a>Run on emulator<a class="hash-link" href="#run-on-emulator" title="Direct link to heading">#</a></h3><p>If you want to run the project on your connected device, you can use:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ flutter run --no-sound-null-safety</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="run-on-browser"></a>Run on browser<a class="hash-link" href="#run-on-browser" title="Direct link to heading">#</a></h3><p>If you want to run the project on your browser, you can use:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ flutter run --no-sound-null-safety -d chrome --csp --release</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Otherwise, Flutter allows us to build many artifacts for Android, iOS and WEB,
below you can find the most common and useful commands, all of which you should
run from the root of Credible.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ios-app-for-simulator"></a>iOS .app for Simulator<a class="hash-link" href="#ios-app-for-simulator" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ flutter build ios --no-sound-null-safety --no-codesign --simulator</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ios-app-for-devices"></a>iOS .app for Devices<a class="hash-link" href="#ios-app-for-devices" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ flutter build ios --no-sound-null-safety --no-codesign</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ios-ipa"></a>iOS IPA<a class="hash-link" href="#ios-ipa" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ flutter build ipa --no-sound-null-safety</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="web"></a>Web<a class="hash-link" href="#web" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ flutter build web </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  --no-sound-null-safety </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  --csp </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  --release</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>If you don&#x27;t have support for WASM, you&#x27;ll probably need to provide your own
<code>canvaskit</code> dependency without WASM as well as DIDKit, to do that you need to
specify the <code>FLUTTER_WEB_CANVASKIT_URL</code> in the build command like below.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ flutter build web </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  --no-sound-null-safety </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  --csp </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  --dart-define</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">FLUTTER_WEB_CANVASKIT_URL</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">vendor/ </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  --release</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>For more details about any of these commands you can run</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ flutter build </span><span class="token variable" style="color:rgb(191, 199, 213)">$SUBCOMMAND</span><span class="token plain"> --help</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="note-about-nullsafety"></a>Note about <code>nullsafety</code><a class="hash-link" href="#note-about-nullsafety" title="Direct link to heading">#</a></h3><p>While we are ready to migrate to Dart with nullsafety, a couple of the
dependencies of the project are still lagging behind, so we need to add <code>--no-sound-null-safely</code> to both run and build commands for the time being.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="note-about-canvaskit"></a>Note about <code>canvaskit</code><a class="hash-link" href="#note-about-canvaskit" title="Direct link to heading">#</a></h3><p>Since by default <code>canvaskit</code> comes in a <code>WASM</code> build, in order to the <code>ASM.js</code>
be fully supported <code>canvaskit</code> was manually built for this target.</p><p>A prebuilt <code>canvaskit</code> is already included in the Credible web folder.
If you want to build it by yourself, however, follow these steps:</p><ul><li>Install <a href="https://emscripten.org/docs/getting_started/downloads.html" target="_blank" rel="noopener noreferrer"><code>emscripten</code></a></li><li>Clone <a href="https://skia.org/user/download" target="_blank" rel="noopener noreferrer">Skia</a> repository and pull its dependencies</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone https://skia.googlesource.com/skia.git --depth </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> --branch canvaskit/0.22.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> skia</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">python2 tools/git-sync-deps</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Modify build script <code>modules/canvaskit/compile.sh</code></li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">diff --git a/modules/canvaskit/compile.sh b/modules/canvaskit/compile.sh</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">index 6ba58bfae9..51f0297eb6 100755</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">--- a/modules/canvaskit/compile.sh</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">+++ b/modules/canvaskit/compile.sh</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@@ -397,6 +397,7 @@ EMCC_DEBUG=1 ${EMCXX} \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     -s MODULARIZE=1 \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     -s NO_EXIT_RUNTIME=1 \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     -s INITIAL_MEMORY=128MB \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-    -s WASM=1 \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">+    -s WASM=0 \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">+    -s NO_DYNAMIC_EXECUTION=1 \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     $STRICTNESS \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     -o $BUILD_DIR/canvaskit.js</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Build <code>canvaskit</code></li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> modules/canvaskit</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">make</span><span class="token plain"> debug</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Replace this line on <code>$SKIA/modules/canvaskit/canvaskit/bin/canvaskit.js</code></li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly git"><div tabindex="0" class="prism-code language-git codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">618c618</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt; var isNode = !(new Function(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;try {return this===window;}catch(e){ return false;}&#x27;</span><span class="token plain">)());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token deleted" style="color:rgb(255, 85, 114)">---</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; var isNode = false;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li><p>Copy <code>$SKIA/modules/canvaskit/canvaskit/bin/canvaskit.js</code> to
<code>$CREDIBLE/web/vendor/</code></p></li><li><p>Build Credible as described above.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="troubleshooting"></a>Troubleshooting<a class="hash-link" href="#troubleshooting" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="build-environment-problems"></a>Build Environment Problems<a class="hash-link" href="#build-environment-problems" title="Direct link to heading">#</a></h3><p>If you encounter any errors in the build process described here, please first try
clean builds of the projects listed.</p><p>For instance, on Flutter, you can delete build files to start over by running:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ flutter clean</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Also, reviewing the
<a href="https://github.com/spruceid/credible/blob/main/install_android_dependencies.sh" target="_blank" rel="noopener noreferrer">install_android_dependencies.sh</a> script line
by line or even rerunning it line by line may be helpful.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="opaque-makefile-error-messages"></a>Opaque Makefile error messages<a class="hash-link" href="#opaque-makefile-error-messages" title="Direct link to heading">#</a></h3><ul><li>NPM may through an opaque error when compiling to WASM or ASM.js if <code>apt
install</code> has installed too old of a version of <code>npm</code> based on your operating
system kernel. This can be manually overridden from <code>npm</code>&#x27;s <a href="https://github.com/npm/cli/issues/681#issuecomment-793916156" target="_blank" rel="noopener noreferrer">internal
commands</a></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/spruceid/spruceid.dev/edit/main/docs/credible/install.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/credible/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Introducing the Credible Wallet</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/credible/concepts"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Core Concepts Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#app-stores" class="table-of-contents__link">App stores</a></li><li><a href="#common-dependencies" class="table-of-contents__link">Common Dependencies</a><ul><li><a href="#rust" class="table-of-contents__link">Rust</a></li><li><a href="#java" class="table-of-contents__link">Java</a></li><li><a href="#flutter" class="table-of-contents__link">Flutter</a></li><li><a href="#wasm-pack-required-for-both-web-targets" class="table-of-contents__link"><code>wasm-pack</code> (Required for both WEB targets)</a></li><li><a href="#binaryen" class="table-of-contents__link"><code>binaryen</code></a></li><li><a href="#didkit-and-ssi" class="table-of-contents__link">DIDKit and SSI</a></li></ul></li><li><a href="#target-specific-dependencies" class="table-of-contents__link">Target-Specific Dependencies</a><ul><li><a href="#android-dependencies" class="table-of-contents__link">Android Dependencies</a></li><li><a href="#ios-dependencies" class="table-of-contents__link">iOS Dependencies</a></li><li><a href="#web-dependencies" class="table-of-contents__link">Web Dependencies</a></li></ul></li><li><a href="#building-didkit-for-different-targets" class="table-of-contents__link">Building DIDKit for different targets</a><ul><li><a href="#android" class="table-of-contents__link">Android</a></li><li><a href="#android-apk" class="table-of-contents__link">Android APK</a></li><li><a href="#android-app-bundle" class="table-of-contents__link">Android App Bundle</a></li><li><a href="#ios" class="table-of-contents__link">iOS</a></li><li><a href="#web-using-wasm" class="table-of-contents__link">Web <em>using WASM</em></a></li><li><a href="#web-using-asmjs" class="table-of-contents__link">Web <em>using ASM.js</em></a></li></ul></li><li><a href="#building-credible" class="table-of-contents__link">Building Credible</a><ul><li><a href="#run-on-emulator" class="table-of-contents__link">Run on emulator</a></li><li><a href="#run-on-browser" class="table-of-contents__link">Run on browser</a></li><li><a href="#ios-app-for-simulator" class="table-of-contents__link">iOS .app for Simulator</a></li><li><a href="#ios-app-for-devices" class="table-of-contents__link">iOS .app for Devices</a></li><li><a href="#ios-ipa" class="table-of-contents__link">iOS IPA</a></li><li><a href="#web" class="table-of-contents__link">Web</a></li><li><a href="#note-about-nullsafety" class="table-of-contents__link">Note about <code>nullsafety</code></a></li><li><a href="#note-about-canvaskit" class="table-of-contents__link">Note about <code>canvaskit</code></a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link">Troubleshooting</a><ul><li><a href="#build-environment-problems" class="table-of-contents__link">Build Environment Problems</a></li><li><a href="#opaque-makefile-error-messages" class="table-of-contents__link">Opaque Makefile error messages</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://spruceid.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">SpruceID.com</a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/sprucesystems" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://www.linkedin.com/company/sprucesystemsinc/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn</a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://github.com/spruceid/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Spruce Systems. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.cad108a0.js"></script>
<script src="/assets/js/main.798d0b49.js"></script>
</body>
</html>