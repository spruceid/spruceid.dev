<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Spruce Developer Portal Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Spruce Developer Portal Blog Atom Feed"><title data-react-helmet="true">HTTP Syntax | Spruce Developer Portal</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="HTTP Syntax | Spruce Developer Portal"><meta data-react-helmet="true" name="description" content="DIDKit exposes its functionality as an HTTP server."><meta data-react-helmet="true" property="og:description" content="DIDKit exposes its functionality as an HTTP server."><meta data-react-helmet="true" property="og:url" content="https://spruceid.dev/docs/didkit/http_syntax"><link data-react-helmet="true" rel="shortcut icon" href="/assets/logo.png"><link data-react-helmet="true" rel="canonical" href="https://spruceid.dev/docs/didkit/http_syntax"><link rel="stylesheet" href="/styles.9004951d.css">
<link rel="preload" href="/styles.e8166d39.js" as="script">
<link rel="preload" href="/runtime~main.4aa90c31.js" as="script">
<link rel="preload" href="/main.d61ef6d4.js" as="script">
<link rel="preload" href="/1.070632a8.js" as="script">
<link rel="preload" href="/2.ce19371e.js" as="script">
<link rel="preload" href="/37.44d51e6c.js" as="script">
<link rel="preload" href="/935f2afb.4cb20043.js" as="script">
<link rel="preload" href="/17896441.9583a669.js" as="script">
<link rel="preload" href="/20d8c81a.c7d1b1ad.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a href="https://spruceid.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/assets/logo.png" alt="Spruce Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/assets/logo.png" alt="Spruce Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Spruce</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" usebaseurl="/docs/" href="/docs/">.dev Portal</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" usebaseurl="/didkit/" href="/docs/didkit/">DIDKit</a><a class="navbar__item navbar__link" usebaseurl="/credible/" href="/docs/credible">Credible</a><a href="https://sprucesystems.medium.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" usebaseurl="/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/spruceid/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a href="https://spruceid.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/assets/logo.png" alt="Spruce Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/assets/logo.png" alt="Spruce Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Spruce</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" usebaseurl="/docs/" href="/docs/">.dev Portal</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" usebaseurl="/didkit/" href="/docs/didkit/">DIDKit</a></li><li class="menu__list-item"><a class="menu__link" usebaseurl="/credible/" href="/docs/credible">Credible</a></li><li class="menu__list-item"><a href="https://sprucesystems.medium.com/" target="_blank" rel="noopener noreferrer" class="menu__link" usebaseurl="/blog/">Blog</a></li><li class="menu__list-item"><a href="https://github.com/spruceid/" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">.dev Portal</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Home</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/primer">Decentralized Identity Primer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/contributing">Contributing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/code-of-conduct">Code of Conduct</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/privacy-policy">Privacy Policy</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">DIDKit</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/didkit/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/didkit/terminology">Terminology</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/didkit/concepts">Core Concepts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/didkit/specs_and_deps">Specifications &amp; Dependencies</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/didkit/rust">Rust Crate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/didkit/install">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/didkit/cli_commands">CLI Commands</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/didkit/http_syntax">HTTP Syntax</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/didkit/ffis">Foreign Function Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/didkit/changelog">Changelog</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">DIDKit Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit/examples">Overview of Examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit/example--core-functions-in-bash">Core Functions (CLI)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit/example--core-functions-in-curl">Core Functions (HTTP)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit/example--batch-generation">Batch Generation &amp; Verification</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit/example--java-springboot">Spring Boot Java AuthN Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/didkit/example--svelte-chapi">Svelte CHAPI</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Credible</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/credible/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/credible/terminology">Terminology</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/credible/concepts">Core Concepts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/credible/install">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/credible/authn">Authenticating to other services</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Credible Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/credible/examples">Overview of Examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/credible/example--qr-issuance">QR Code Issuance</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">References</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/glossary">Glossary</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/further-reading">Further Reading</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">HTTP Syntax</h1></header><div class="markdown"><p>DIDKit exposes its functionality as an HTTP server.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="cli"></a>CLI<a class="hash-link" href="#cli" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="didkit-http"></a><code>didkit-http</code><a class="hash-link" href="#didkit-http" title="Direct link to heading">#</a></h3><p>Run a DIDKit HTTP server. The command outputs the URL it is listening on, and runs until interrupted.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="options"></a>Options<a class="hash-link" href="#options" title="Direct link to heading">#</a></h4><ul><li><code>-s, --host &lt;host&gt;</code> - Hostname to listen on. Default is <code>127.0.0.1</code>.</li><li><code>-p, --port &lt;port&gt;</code> - Port to listen on. Default is a random OS-chosen port.</li><li><code>-k, --key &lt;key&gt;</code>   - Filename of a JWK to use for issuing credentials and
presentations.</li><li><code>-j, --jwk &lt;jwk&gt;</code>   - JWK to use for issuing credentials and presentations.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="issuer-keys"></a>Issuer keys<a class="hash-link" href="#issuer-keys" title="Direct link to heading">#</a></h4><p>Provide issuer keys using the <code>-k</code>/<code>--key-path</code> or <code>-j</code>/<code>--jwk</code> options. If none are provided, issuance functionality will be unavailable. If one is provided, that one will be used to sign all credentials and presentations, regardless of the proof options in the issuance request. If more than one key is provided, the issuance request may identify which key to use for signing by its DID in the <code>verificationMethod</code> property of the proof options; if none is identified in that property, the first key is used.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="rust-library"></a>Rust library<a class="hash-link" href="#rust-library" title="Direct link to heading">#</a></h2><p>Rust crate <code>didkit-http</code> contains DIDKit&#x27;s HTTP server implementation as a Rust
library. Struct <code>didkit_http::DIDKitHTTPMakeSvc</code> implements a Tower
(<a href="https://hyper.rs/" target="_blank" rel="noopener noreferrer">hyper</a>)
<a href="https://docs.rs/tower-service/0.3.0/tower_service/trait.Service.html" target="_blank" rel="noopener noreferrer">Service</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="api"></a>API<a class="hash-link" href="#api" title="Direct link to heading">#</a></h2><p>The following routes implement <a href="https://w3c-ccg.github.io/vc-http-api/" target="_blank" rel="noopener noreferrer">W3C CCG&#x27;s VC HTTP API (vc-http-api)</a> <a href="https://github.com/w3c-ccg/vc-http-api/pull/72" target="_blank" rel="noopener noreferrer">v0.0.1</a>. POST bodies should be typed as <code>application/json</code>. Output will be <code>application/json</code> on success; on error it will be either <code>application/json</code> or plain text. For more details, see the documentation for the <a href="https://w3c-ccg.github.io/vc-http-api/" target="_blank" rel="noopener noreferrer">vc-http-api</a> specification.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="post-issuecredentials"></a>POST <code>/issue/credentials</code><a class="hash-link" href="#post-issuecredentials" title="Direct link to heading">#</a></h3><p>Issue a verifiable credential. The server uses its configured key and the given linked data proof options to generate a proof and append it to the given credential. On success, the resulting verifiable credential is returned, with HTTP status 201.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="post-verifycredentials"></a>POST <code>/verify/credentials</code><a class="hash-link" href="#post-verifycredentials" title="Direct link to heading">#</a></h3><p>Verify a verifiable credential. The server verifies the given credential with the given linked data proof options. To successfully verify, the credential must contain at least one proof that verifies successfully. Verification results include a list of checks performed, warnings that should be flagged to the user, and errors encountered. On success, the errors list will be empty, and the HTTP status code will be 200.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="post-provepresentations"></a>POST <code>/prove/presentations</code><a class="hash-link" href="#post-provepresentations" title="Direct link to heading">#</a></h3><p>Create a verifiable presentation. Given a presentation and linked data proof options, the server uses its key to generate a proof and append it to the presentation. On success, returns the verifiable presentation and HTTP status 201.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="post-verifypresentations"></a>POST <code>/verify/presentations</code><a class="hash-link" href="#post-verifypresentations" title="Direct link to heading">#</a></h3><p>Verify a verifiable presentation using the given proof options. Returns a verification result. HTTP status 200 indicates successful verification.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/spruceid/docs/didkit/http_syntax.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/didkit/cli_commands"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« CLI Commands</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/didkit/ffis"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Foreign Function Interfaces Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#cli" class="table-of-contents__link">CLI</a><ul><li><a href="#didkit-http" class="table-of-contents__link"><code>didkit-http</code></a></li></ul></li><li><a href="#rust-library" class="table-of-contents__link">Rust library</a></li><li><a href="#api" class="table-of-contents__link">API</a><ul><li><a href="#post-issuecredentials" class="table-of-contents__link">POST <code>/issue/credentials</code></a></li><li><a href="#post-verifycredentials" class="table-of-contents__link">POST <code>/verify/credentials</code></a></li><li><a href="#post-provepresentations" class="table-of-contents__link">POST <code>/prove/presentations</code></a></li><li><a href="#post-verifypresentations" class="table-of-contents__link">POST <code>/verify/presentations</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://spruceid.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">SpruceID.com</a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/sprucesystems" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://www.linkedin.com/company/sprucesystemsinc/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn</a></li></ul></div><div class="col footer__col"><ul class="footer__items"><li class="footer__item"><a href="https://github.com/spruceid/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Spruce Systems. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.e8166d39.js"></script>
<script src="/runtime~main.4aa90c31.js"></script>
<script src="/main.d61ef6d4.js"></script>
<script src="/1.070632a8.js"></script>
<script src="/2.ce19371e.js"></script>
<script src="/37.44d51e6c.js"></script>
<script src="/935f2afb.4cb20043.js"></script>
<script src="/17896441.9583a669.js"></script>
<script src="/20d8c81a.c7d1b1ad.js"></script>
</body>
</html>